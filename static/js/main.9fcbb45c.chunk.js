(this["webpackJsonptest-auth0-react-login"]=this["webpackJsonptest-auth0-react-login"]||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"name":"test-auth0-react-login","version":"0.1.0","homepage":"https://ivarprudnikov.github.io/react-auth0-template","private":false,"dependencies":{"@auth0/auth0-spa-js":"^1.6.0","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.4.0","@testing-library/user-event":"^7.2.1","bootstrap":"^4.4.1","jwt-decode":"^2.2.0","node-sass":"^4.13.0","react":"^16.12.0","react-dom":"^16.12.0","react-router-dom":"^5.1.2","react-scripts":"3.3.0"},"scripts":{"start":"REACT_APP_VERSION=$(date \\"+%Y-%m-%d %H:%M\\") react-scripts start","build":"REACT_APP_VERSION=$(date \\"+%Y-%m-%d %H:%M\\") react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},24:function(e,t,a){e.exports=a(40)},29:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),i=(a(29),a(2)),o=a.n(i),s=a(10),u=a(19),m=a.n(u),d=a(20),p=a.n(d),f=a(13),h={domain:"ivarprudnikov.eu.auth0.com",clientId:"EuHrJlslqdI6h5UOuAMtau6maPa05lRd",scope:"openid profile email",loginCallbackUrl:f.homepage,logoutRedirectUrl:f.homepage},v=function(){return window.history.replaceState({},document.title,window.location.pathname)},b=r.a.createContext({}),g=function(){return Object(n.useContext)(b)},E=a(8),w=function(){var e=g(),t=e.isAuthenticated,a=e.loginWithRedirect,n=e.logoutWithRedirect;return r.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement(E.a,{className:"navbar-brand",to:"/"},"Brnd"),r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item-divider"})),!t&&r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("form",{className:"form-inline"},r.a.createElement("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){return a({})}},"Log in"))),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.a,{className:"nav-link",to:"/"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.a,{className:"nav-link",to:"/profile"},"Profile"))),r.a.createElement("form",{className:"form-inline ml-4"},r.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){return n()}},"Log out")))))},x=a(7),N=function(){var e=g(),t=e.loading,a=e.user;return t||!a?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-2"},r.a.createElement("img",{src:a.picture,alt:"Profile",className:"img-fluid"})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("h2",null,a.name),r.a.createElement("p",null,a.email)),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("code",{className:"p-3 bg-dark text-light d-block"},JSON.stringify(a,null,2)))))},k=a(3),y=Object(k.a)(),O=a(23),j=function(e){var t=e.component,a=e.path,c=Object(O.a)(e,["component","path"]),l=g(),i=l.loading,s=l.isAuthenticated,u=l.loginWithRedirect;Object(n.useEffect)((function(){if(!i&&!s){o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(u({appState:{targetUrl:a}}));case 2:case"end":return e.stop()}}))}}),[i,s,u,a]);return r.a.createElement(x.a,Object.assign({path:a,render:function(e){return!0===s?r.a.createElement(t,e):null}},c))};var R=function(){return r.a.createElement("div",{className:"d-flex min-vh-100 flex-column justify-content-between"},r.a.createElement(x.b,{history:y},r.a.createElement("header",null,r.a.createElement(w,null)),r.a.createElement("main",null,r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/",exact:!0}),r.a.createElement(j,{path:"/profile",component:N}))),r.a.createElement("footer",{className:"p-4 text-center bg-primary text-light"},r.a.createElement("small",null,"Version: ",window.REACT_APP_VERSION))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(e){var t=e.children,a=e.onRedirectCallback,c=Object(n.useState)(!1),l=Object(s.a)(c,2),i=l[0],u=l[1],d=Object(n.useState)(null),f=Object(s.a)(d,2),g=f[0],E=f[1],w=Object(n.useState)(null),x=Object(s.a)(w,2),N=x[0],k=x[1],y=Object(n.useState)(!0),O=Object(s.a)(y,2),j=O[0],R=O[1];"function"!==typeof a&&(a=v),Object(n.useEffect)((function(){(function(){var e,t,n,r,c;return o.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,o.a.awrap(p()({domain:h.domain,client_id:h.clientId,scope:h.scope,redirect_uri:h.loginCallbackUrl}));case 2:if(e=l.sent,k(e),!window.location.search.includes("code=")){l.next=10;break}return l.next=7,o.a.awrap(e.handleRedirectCallback());case 7:t=l.sent,n=t.appState,a(n);case 10:return l.next=12,o.a.awrap(e.isAuthenticated());case 12:if(r=l.sent,u(r),!r){l.next=19;break}return l.next=17,o.a.awrap(e.getUser());case 17:c=l.sent,E(c);case 19:R(!1);case 20:case"end":return l.stop()}}))})().catch((function(e){console.error("initAuth0 failure",e),window.location.replace("/")}))}),[a]);var C=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(N.getTokenSilently());case 2:return e=t.sent,t.abrupt("return",{raw:e,decoded:m()(e)});case 4:case"end":return t.stop()}}))};return r.a.createElement(b.Provider,{value:{isAuthenticated:i,user:g,loading:j,handleRedirectCallback:function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return R(!0),t.next=3,o.a.awrap(N.handleRedirectCallback());case 3:return t.next=5,o.a.awrap(N.getUser());case 5:e=t.sent,R(!1),u(!0),E(e);case 9:case"end":return t.stop()}}))},getIdTokenClaims:function(){return N.getIdTokenClaims.apply(N,arguments)},loginWithRedirect:function(){return N.loginWithRedirect.apply(N,arguments)},getTokenSilently:C,hasAnyScopeAsync:function(e){var t,a;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(C());case 2:return t=n.sent,a=(t.decoded.scope||"").split(/\W/),n.abrupt("return",e&&e.length&&e.some((function(e){return a.indexOf(e)>-1})));case 5:case"end":return n.stop()}}))},getTokenWithPopup:function(){return N.getTokenWithPopup.apply(N,arguments)},logoutWithRedirect:function(){return N.logout({returnTo:h.logoutRedirectUrl})}}},t)}),{onRedirectCallback:function(e){y.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.9fcbb45c.chunk.js.map