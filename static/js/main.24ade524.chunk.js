(this["webpackJsonptest-auth0-react-login"]=this["webpackJsonptest-auth0-react-login"]||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"domain":"ivarprudnikov.eu.auth0.com","clientId":"EuHrJlslqdI6h5UOuAMtau6maPa05lRd","scope":"openid profile email"}')},24:function(e,t,n){e.exports=n(40)},29:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),i=(n(29),n(2)),l=n.n(i),u=n(10),s=n(19),p=n.n(s),d=n(20),f=n.n(d),m=n(12),h=function(){return window.history.replaceState({},document.title,window.location.pathname)},g=r.a.createContext({}),w=function(){return Object(a.useContext)(g)},b=n(8),E=function(){var e=w(),t=e.isAuthenticated,n=e.loginWithRedirect,a=e.logout;return r.a.createElement("div",null,!t&&r.a.createElement("button",{onClick:function(){return n({})}},"Log in"),t&&r.a.createElement("button",{onClick:function(){return a()}},"Log out"),t&&r.a.createElement("span",null,r.a.createElement(b.a,{to:"/"},"Home"),"\xa0",r.a.createElement(b.a,{to:"/profile"},"Profile")))},v=n(7),x=function(){var e=w(),t=e.loading,n=e.user;return t||!n?r.a.createElement("div",null,"Loading..."):r.a.createElement(a.Fragment,null,r.a.createElement("img",{src:n.picture,alt:"Profile"}),r.a.createElement("h2",null,n.name),r.a.createElement("p",null,n.email),r.a.createElement("code",null,JSON.stringify(n,null,2)))},k=n(3),y=Object(k.a)(),O=n(23),j=function(e){var t=e.component,n=e.path,c=Object(O.a)(e,["component","path"]),o=w(),i=o.loading,u=o.isAuthenticated,s=o.loginWithRedirect;Object(a.useEffect)((function(){if(!i&&!u){l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(s({appState:{targetUrl:n}}));case 2:case"end":return e.stop()}}))}}),[i,u,s,n]);return r.a.createElement(v.a,Object.assign({path:n,render:function(e){return!0===u?r.a.createElement(t,e):null}},c))};var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v.b,{history:y},r.a.createElement("header",null,r.a.createElement(E,null)),r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/",exact:!0}),r.a.createElement(j,{path:"/profile",component:x}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(e){var t=e.children,n=e.redirect_uri,c=e.onRedirectCallback,o=Object(a.useState)(!1),i=Object(u.a)(o,2),s=i[0],d=i[1],w=Object(a.useState)(null),b=Object(u.a)(w,2),E=b[0],v=b[1],x=Object(a.useState)(null),k=Object(u.a)(x,2),y=k[0],O=k[1],j=Object(a.useState)(!0),S=Object(u.a)(j,2),C=S[0],R=S[1];"function"!==typeof c&&(c=h),Object(a.useEffect)((function(){(function(){var e,t,a,r,o;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,l.a.awrap(f()({domain:m.domain,client_id:m.clientId,scope:m.scope,redirect_uri:n}));case 2:if(e=i.sent,O(e),!window.location.search.includes("code=")){i.next=10;break}return i.next=7,l.a.awrap(e.handleRedirectCallback());case 7:t=i.sent,a=t.appState,c(a);case 10:return i.next=12,l.a.awrap(e.isAuthenticated());case 12:if(r=i.sent,d(r),!r){i.next=19;break}return i.next=17,l.a.awrap(e.getUser());case 17:o=i.sent,v(o);case 19:R(!1);case 20:case"end":return i.stop()}}))})().catch((function(e){console.error("initAuth0 failure",e),window.location.replace("/")}))}),[n,c]);var A=function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y.getTokenSilently());case 2:return e=t.sent,t.abrupt("return",{raw:e,decoded:p()(e)});case 4:case"end":return t.stop()}}))};return r.a.createElement(g.Provider,{value:{isAuthenticated:s,user:E,loading:C,handleRedirectCallback:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return R(!0),t.next=3,l.a.awrap(y.handleRedirectCallback());case 3:return t.next=5,l.a.awrap(y.getUser());case 5:e=t.sent,R(!1),d(!0),v(e);case 9:case"end":return t.stop()}}))},getIdTokenClaims:function(){return y.getIdTokenClaims.apply(y,arguments)},loginWithRedirect:function(){return y.loginWithRedirect.apply(y,arguments)},getTokenSilently:A,hasAnyScopeAsync:function(e){var t,n;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(A());case 2:return t=a.sent,n=(t.decoded.scope||"").split(/\W/),a.abrupt("return",e&&e.length&&e.some((function(e){return n.indexOf(e)>-1})));case 5:case"end":return a.stop()}}))},getTokenWithPopup:function(){return y.getTokenWithPopup.apply(y,arguments)},logout:function(){return y.logout.apply(y,arguments)}}},t)}),{redirect_uri:window.location.origin,onRedirectCallback:function(e){y.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.24ade524.chunk.js.map