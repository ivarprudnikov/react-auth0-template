(this["webpackJsonptest-auth0-react-login"]=this["webpackJsonptest-auth0-react-login"]||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"domain":"ivarprudnikov.eu.auth0.com","clientId":"EuHrJlslqdI6h5UOuAMtau6maPa05lRd","scope":"openid profile email"}')},24:function(e){e.exports=JSON.parse('{"name":"test-auth0-react-login","version":"0.1.0","homepage":"https://ivarprudnikov.github.io/react-auth0-template","private":false,"dependencies":{"@auth0/auth0-spa-js":"^1.6.0","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.4.0","@testing-library/user-event":"^7.2.1","jwt-decode":"^2.2.0","react":"^16.12.0","react-dom":"^16.12.0","react-router-dom":"^5.1.2","react-scripts":"3.3.0"},"scripts":{"start":"REACT_APP_VERSION=$(date \\"+%Y-%m-%d %H:%M\\") react-scripts start","build":"REACT_APP_VERSION=$(date \\"+%Y-%m-%d %H:%M\\") react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},25:function(e,t,n){e.exports=n(41)},30:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),i=(n(30),n(2)),l=n.n(i),s=n(10),u=n(19),p=n.n(u),d=n(20),m=n.n(d),f=n(12),h=function(){return window.history.replaceState({},document.title,window.location.pathname)},g=r.a.createContext({}),v=function(){return Object(a.useContext)(g)},w=n(8),E=function(){var e=v(),t=e.isAuthenticated,n=e.loginWithRedirect,a=e.logout;return r.a.createElement("div",null,!t&&r.a.createElement("button",{onClick:function(){return n({})}},"Log in"),t&&r.a.createElement("button",{onClick:function(){return a()}},"Log out"),t&&r.a.createElement("span",null,r.a.createElement(w.a,{to:"/"},"Home"),"\xa0",r.a.createElement(w.a,{to:"/profile"},"Profile")))},b=n(7),x=function(){var e=v(),t=e.loading,n=e.user;return t||!n?r.a.createElement("div",null,"Loading..."):r.a.createElement(a.Fragment,null,r.a.createElement("img",{src:n.picture,alt:"Profile"}),r.a.createElement("h2",null,n.name),r.a.createElement("p",null,n.email),r.a.createElement("code",null,JSON.stringify(n,null,2)))},y=n(3),O=Object(y.a)(),k=n(23),j=function(e){var t=e.component,n=e.path,c=Object(k.a)(e,["component","path"]),o=v(),i=o.loading,s=o.isAuthenticated,u=o.loginWithRedirect;Object(a.useEffect)((function(){if(!i&&!s){l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(u({appState:{targetUrl:n}}));case 2:case"end":return e.stop()}}))}}),[i,s,u,n]);return r.a.createElement(b.a,Object.assign({path:n,render:function(e){return!0===s?r.a.createElement(t,e):null}},c))};var R=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b.b,{history:O},r.a.createElement("header",null,r.a.createElement(E,null)),r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/",exact:!0}),r.a.createElement(j,{path:"/profile",component:x})),r.a.createElement("footer",null,r.a.createElement("small",null,"Version: ",window.REACT_APP_VERSION))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=n(24).homepage;o.a.render(r.a.createElement((function(e){var t=e.children,n=e.redirect_uri,c=e.onRedirectCallback,o=Object(a.useState)(!1),i=Object(s.a)(o,2),u=i[0],d=i[1],v=Object(a.useState)(null),w=Object(s.a)(v,2),E=w[0],b=w[1],x=Object(a.useState)(null),y=Object(s.a)(x,2),O=y[0],k=y[1],j=Object(a.useState)(!0),R=Object(s.a)(j,2),S=R[0],A=R[1];"function"!==typeof c&&(c=h),Object(a.useEffect)((function(){(function(){var e,t,a,r,o;return l.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,l.a.awrap(m()({domain:f.domain,client_id:f.clientId,scope:f.scope,redirect_uri:n}));case 2:if(e=i.sent,k(e),!window.location.search.includes("code=")){i.next=10;break}return i.next=7,l.a.awrap(e.handleRedirectCallback());case 7:t=i.sent,a=t.appState,c(a);case 10:return i.next=12,l.a.awrap(e.isAuthenticated());case 12:if(r=i.sent,d(r),!r){i.next=19;break}return i.next=17,l.a.awrap(e.getUser());case 17:o=i.sent,b(o);case 19:A(!1);case 20:case"end":return i.stop()}}))})().catch((function(e){console.error("initAuth0 failure",e),window.location.replace("/")}))}),[n,c]);var C=function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(O.getTokenSilently());case 2:return e=t.sent,t.abrupt("return",{raw:e,decoded:p()(e)});case 4:case"end":return t.stop()}}))};return r.a.createElement(g.Provider,{value:{isAuthenticated:u,user:E,loading:S,handleRedirectCallback:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return A(!0),t.next=3,l.a.awrap(O.handleRedirectCallback());case 3:return t.next=5,l.a.awrap(O.getUser());case 5:e=t.sent,A(!1),d(!0),b(e);case 9:case"end":return t.stop()}}))},getIdTokenClaims:function(){return O.getIdTokenClaims.apply(O,arguments)},loginWithRedirect:function(){return O.loginWithRedirect.apply(O,arguments)},getTokenSilently:C,hasAnyScopeAsync:function(e){var t,n;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(C());case 2:return t=a.sent,n=(t.decoded.scope||"").split(/\W/),a.abrupt("return",e&&e.length&&e.some((function(e){return n.indexOf(e)>-1})));case 5:case"end":return a.stop()}}))},getTokenWithPopup:function(){return O.getTokenWithPopup.apply(O,arguments)},logout:function(){return O.logout.apply(O,arguments)}}},t)}),{redirect_uri:S,onRedirectCallback:function(e){O.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.c1104e73.chunk.js.map